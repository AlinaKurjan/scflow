##########################
#
# configuration file for pipeline_kb-annotation-5
#
##########################

#######################
# Reference
#######################

reference:

  # Whether to generate a reference matrix from scratch
  # 1 to generate, 0 to use an existing matrix (a SCE object saved as an RDS object)
  generate: 1

  # Path and file name of reference RDS if not generated by the pipeline.
  # SCE object with cell type listed in column named "label"
  path: reference_sce.rds

  # Type of reference to use:
  # celldex
  # scRNAseq
  package: celldex

  # Name of celldex reference database:
  # http://bioconductor.org/packages/release/data/experiment/vignettes/celldex/inst/doc/userguide.html
  # HumanPrimaryCellAtlasData
  # BlueprintEncodeData
  # MouseRNAseqData
  # ImmGenData
  # DatabaseImmuneCellExpressionData
  # NovershternHematopoieticData
  # MonacoImmuneData
  celldex_reference_name: HumanPrimaryCellAtlasData

  # scRNAseq package references:
  # https://bioconductor.org/packages/devel/data/experiment/vignettes/scRNAseq/inst/doc/scRNAseq.html#available-data-sets
  # Name of reference without the brackets. Some databases are not labelled.
  scRNAseq_reference_name: BaronPancreasData

  # Options for scRNAseq reference, e.g. 'human', 'mouse' etc.
  # Leave blank for no option
  scRNAseq_option:

#######################
# Seurat markers
#######################

# run seurat markers
markerdiff: 0

markers:

  # Path to metadata file. First column sample_name, other columns specified by user
  meta_data: metadata.csv

  # Group to compare across e.g. stim, treated etc.
  group: stim

  # Conditions in stim to compare, separated with "_v_". Multiple comparisons separated with space
  DE_versus: cntrl_v_drug1 cntrl_v_drug2

# List of pre-defined markers. Separate genes by underscore e.g. ENSG00000081237_ENSG00000090339_ENSG00000139193
predefined_list: ENSG00000081237_ENSG00000090339_ENSG00000139193


#######################
# SingleR
#######################

singler:

  # Whether to run singleR annotation or not.
  # 0 or 1
  run: 1

  # Option to perform wilcoxin test to identify top markers for each pairwise comparison between labels
  # Slower but more appropriate for sc data compared to just default algorithm
  # 0 or 1, 0 not to run, 1 to run
  DEmethod: 0

  # SingleR method, annotate by cell (single) or by cluster. Default = single. Options:
  # single
  # cluster
  method: single


#######################
# clustifyr
#######################

clustifyr:

  # Whether to run clustifyr annotation or not.
  # 0 or 1
  run: 1

  # Dimension reduction to annotate, options:
  # umap
  # tsne
  # pca
  dimRed: umap

  # Whether to run clustifyr using variable features or not. 0 or 1
  var_features: 1


#######################
# scClassify
#######################

scclassify:

  # Whether to run scClassify or not.
  # 0 or 1
  run: 1

  # Whether to use pretrained model
  # 0 for no
  # or path to rds file of pretrained scClassifyTrainModel or scClassifyTrainModelList
  # Download links from package github: https://github.com/SydneyBioX/scClassify
  pretrained: 0

  # Which scClassify method to use.
  # Predict uses a model pre-built in programme or in dir. Train: train and test model in one step
  # If method is set to train, pretrained will be set to 0
  # Options:
  # predict
  # train
  method: predict

  # What similarity metrics to use. List separated by single space. Options:
  # pearson
  # spearman
  # cosine
  # jaccard
  # kendall
  # weighted rank
  # manhattan
  similarity: pearson spearman
